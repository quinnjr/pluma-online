<div class="columns">
  <div class="column is-three-quarters">
    <section class="section content" id="header">
      <h2>Plugin Pool</h2>
      <p>These plugins have been tested and are compatible with the latest version of PluMA. You can download just the ones you wish to use.</p>
      <p>The easiest way to install them is to place them in the plugins/ directory of the PluMA source tree, however you can install them elsewhere by setting the environment variable <code>PLUMA_PLUGIN_PATH.</code></p>
      <p>Have a new plugin that you would like to add to the pool? Please send your source code and a description to Trevor Cickovski. All plugins in the pool will be added as test cases for future releases of PluMA, giving you automatic forward compatibility!</p>
    </section>

    <section class="section">
      <div class="columns is-multiline is-mobile">
        <div class="column is-one-quarter">
          <button class="button is-normal is-responsive is-link is-rounded" (click)="AddPluginModal()">
            Add Plugin
          </button>
        </div>
        <div class="column is-half">
          <button class="button is-normal is-responsive is-link is-rounded" (click)="AddCategoryModal()">
            Add Category
          </button>
        </div>
      </div>
    </section>

    <div class="modal" id="pluginModal">
      <div class="modal-background"></div>
      <div class="modal-content has-background-white p-3 m-3">
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title" id="pluginModalTitle">Plugin</p>
            <button class="delete" aria-label="close" (click)="ClosePluginModal()"></button>
          </header>
          <section class="modal-card-body">
            <div class="field">
              <label class="label">Name</label>
              <div class="control">
                <input class="input" type="text" placeholder="Plugin Name">
              </div>
            </div>
            <div class="field">
              <label class="label">Plugin Description</label>
              <div class="control">
                <textarea class="textarea" placeholder="Plugin Description"></textarea>
              </div>
            </div>
            <div class="field">
              <label class="label">Language</label>
              <div class="select">
                <select>
                  <option>C++</option>
                  <option>Python</option>
                  <option>Java</option>
                </select>
              </div>
            </div>
            <div class="field">
              <label class="label">Category</label>
              <div class="select">
                <select>
                  <option *ngFor="let category of (categories | async); index as idx"><a>{{ category.name }}</a></option>
                </select>
              </div>
            </div>
          </section>
          <footer class="modal-card-foot">
            <button class="button is-normal is-responsive is-link is-rounded" (click)="ClosePluginModal()">
              Save
            </button>
            <button class="button is-normal is-rounded" (click)="ClosePluginModal()">
              Cancel
            </button>
          </footer>
        </div>
      </div>
    </div>

    <div class="modal" id="categoryModal">
      <div class="modal-background"></div>
      <div class="modal-card">
        <header class="modal-card-head">
          <p class="modal-card-title">Category</p>
          <button class="delete" aria-label="close" (click)="CloseCategoryModal()"></button>
        </header>
        <section class="modal-card-body">
          <div class="field">
            <label class="label">Name</label>
            <div class="control">
              <input class="input" type="text" placeholder="Category Name" id="categoryModalName" >
            </div>
          </div>
        </section>
        <footer class="modal-card-foot">
          <button class="button is-normal is-responsive is-link is-rounded" (click)="postCategory()">
            Save
          </button>
          <button class="button is-normal is-rounded" (click)="CloseCategoryModal()">
            Cancel
          </button>
        </footer>
      </div>
    </div>
    <section class="section" id="plugins">
      <div class="columns">
        <div class="column is-4">
          <aside class="menu">
            <p class="menu-label">PluMA Plugin Repositories</p>
            <ul class="menu-list">
              <li *ngFor="let category of (categories | async); index as idx">
                <a [ngClass]="{ 'is-active': isLinkActive(idx) }"
                  (click)="linkActive = idx; refresh() ">{{ category.name }}</a>
              </li>
            </ul>
          </aside>
        </div>
        <div class="column">
          <table class="table is-hoverable is-fullwidth">
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Language</th>
                <th>Category</th>
                <th>Rating</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let plugin of plugins | async">
                <td>
                  <span class="panel-block">
                    <span class="panel-icon">
                      <i class="fas fa-book" aria-hidden="true"></i>
                    </span>
                    <a href="{{ plugin.githubUrl }}">{{ plugin.name }}</a>
                  </span>
                </td>
                <td>
                  <span class="panel-block">{{ plugin.description }}</span>
                </td>
                <td> Temp Language</td>
                <td> Temp Category</td>
                <td> Temp Rating</td>
                <!-- <td>
                  <span class="panel-block">{{ plugin.category }}</span>
                </td> -->
                <!-- <td>
                  <span class="panel-block"></span>
                </td>
                <td>
                  <span class="panel-block"></span>
                </td> -->
                <td>
                  <button class="button is-small is-responsive is-link is-rounded" (click)="AddPluginModal()">
                    Update Plugin
                  </button>
                </td>
                <td>
                  <button class="button is-small is-responsive is-link is-rounded">
                    Delete Plugin
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </div>
  <div class="column is-one-quarter">
    <pluma-online-pluma-sidebar></pluma-online-pluma-sidebar>
  </div>
</div>
